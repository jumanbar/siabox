% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data.R
\docType{data}
\name{reglas}
\alias{reglas}
\title{Reglas de comparación para pares de parámetros}
\format{
Lista con 13 elementos, cada uno con la siguiente
estructura:

\describe{

\item{regla}{character. Texto que describe la regla. Ej.: "\verb{PT (ug P/L)} >
\verb{PO4 (ug PO4-P/L)}"}

\item{mensaje}{character. Frase que se utiliza en caso de que \strong{no} se
cumpla la regla.}

\item{id_parametro}{integer. Vector con 2 o más id de parámetros}

\item{fun}{function. Función que acepta una \code{\link[base]{data.frame}}
como único argumento, y en la que las columnas se corresponden con los
parámetros correspondientes (en el mismo orden)}

}
}
\usage{
reglas
}
\description{
Esta lista almacena reglas (funciones) que sirven para evaluar datos del SIA.
}
\examples{
# Veamos las reglas relativas a OD vs SatO2:
reglas$od_sat_min
reglas$od_sat_max

# Evaluemos esta regla para todos los datos de infambientalbd:
d <- datos_sia \%>\%
  dplyr::filter(id_matriz == 6L, id_parametro \%in\% c(2017L, 2021L)) \%>\%
  ancho \%>\%
  # El orden de los parÃ¡metros es importante!:
  dplyr::select(tidyselect::starts_with("OD "),
                tidyselect::starts_with("SatO "))

d$od_alto <- !reglas$od_sat_max$fun(d)
d$od_bajo <- !reglas$od_sat_min$fun(d)
# Voila!:
dplyr::filter(d, !is.na(od_alto), od_alto | od_bajo)
}
\keyword{datasets}
